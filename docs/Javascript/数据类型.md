---
sidebar_position: 1
---

JavaScrept是一门弱类型的动态语言：
- 弱类型意味着运行时才可以知道变量的数据类型
- 动态意味着使用同一个变量保存不同类型的数据

JS的数据类型一共有8种：
1. undefined
2. null
3. Boolean
4. String
5. Number
6. Symbol
7. BigInt
8. Object
     - Array
     - RegExp
     - Date
     - Math
     - Function

> Number：根据ECMAScript标准，JavaScript中只有一种数字类型，基于IEEE754标准的双精度64位二进制格式的值，-(2^53-1)到2^53-1。<br/>
> 
> Undefined：一个没有被赋值的变量会有一个默认值undefined，变量提升时的默认值也是undefined；<br/>
> 
> BigInt：JavaScript中一个全新的数字类型，可以用任意精度表示整数。使用BigInt，即使超出Number的安全整数范围限制，也可以安全的存储和操作。<br/>
> 
> Symbol：符号类型是唯一的，并且是不可修改的，通常用来作为Object的key。`var sym1 = Symbol()`

:::caution 注意
Symbol不可以作为构造器使用，即`new Symbol()`是不被允许的
:::

其中，前 7 种类型为基础类型，最后 1 种（Object）为引用类型，也是需要重点关注的，因为它在日常工作中是使用得最频繁，也是需要关注最多技术细节的数据类型。

而引用数据类型（Object）又分为几种常见的类型：
- Array - 数组对象
- RegExp - 正则对象
- Date - 日期对象
- Math - 数学函数
- Function - 函数对象

因为各种 JavaScript 的数据类型最后都会在初始化之后放在不同的内存中，因此上面的数据类型大致可以分成两类来进行存储：

- 基础类型存储在栈内存，被引用或拷贝时，会创建一个完全相等的变量；
- 引用类型存储在堆内存，存储的是地址，多个引用指向同一个地址——堆内存中的同一个对象。

## 类型检测

类型检测通常有三种手段：
- `typeof`
- `instanceof`
- `Object.prototype.toString.call()`

:::tip
- `typeof`主要是用来判断基础数据类型（返回一个字符串），当他判断引用数据类型时，只有`function`会返回一个`"function"`字符串，对于其他的一律返回`"object"`
  
- `instaceof`返回的是一个布尔值，判断是否是构造函数的实例
  
- `Object.prototype.toString.call()`会返回一个字符串：`'[object Function]'`注意第二个字母是一个大写。
:::
## 类型转换

> 注意 `[].toString()`返回`""`

关于对象转换，这里有几个题：

```js
// [].valueOf()不是基本类型，所以调用[].toString()返回""，两个空字符串拼接还是空字符串
[]+[] // ""

// {}.valueOf()是非基础类型，{}.toString()返回"[object Object]"
[]+{} // "[object Object]"


{}+{} // "[object Object][object Object]"

// 第一个被当成空代码块，所以变成+[]，Number([])=Number([].toString())=Number("")=0
{}+[] // 0

// {}.toString()是"[object Object]"，数字加字符串，按字符串拼接
10+{} // "10[object Object]"

// 第一个被当成空代码块，所以变成+10
{}+10 // 10
```

![](./img/classtrans.png)